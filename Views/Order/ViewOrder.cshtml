@using B2C_Ecomerce_Website.Models
@{
    ViewBag.Title = "ViewOrder";
    Layout = "~/Views/Shared/_Layout.cshtml";

    List<DeliveryCustomerReceipt> orderList = ViewBag.OrderList;
    if (ViewBag.OrderList == null)
    {
        orderList = new List<DeliveryCustomerReceipt>();
    }

    int count = orderList.Count();
}

<div style="display: flex; justify-content: center; align-items: center">
    <div class="panel panel-default">
        <div class="panel-heading text-center">Your orders</div>
        @{
            if (count < 1)
            {
                <div class="panel-body">
                    <p>You have not placed any orders yet.</p>
                </div>
            }
            else
            {
                <div class="panel-body">
                    <p>Welcome Customer! These are your current orders.</p>
                </div>

                <table class="table table-hover">
                    <tr>
                        <th>Receipt ID</th>
                        <th>Customer Name</th>
                        <th>Customer Phone</th>
                        <th>Customer Address</th>
                        <th>Payment Method</th>
                        <th>Payment Date</th>
                        <th>Transaction No.</th>
                        <th>Total Bill</th>
                    </tr>
                    @foreach (DeliveryCustomerReceipt order in orderList)
                    {
                        <tr>
                            <td>@order.DeliveryCustomerReceiptID</td>
                            <td>@order.CustomerName</td>
                            <td>@order.CustomerPhone</td>
                            <td>@order.CustomerAddress</td>
                            <td>@order.PaymentMethod</td>
                            <td>@order.GetPaymentDate</td>
                            <td>@order.GetPaymentTransactionNo</td>
                            <td>@order.TotalBill</td>
                        </tr>
                    }
                </table>
            }
        }
    </div>
</div>
